"use strict";(self.webpackChunkcommerce_events=self.webpackChunkcommerce_events||[]).push([[242],{6793:function(e,n,a){a.r(n),a.d(n,{_frontmatter:function(){return o},default:function(){return u}});var t,r=a(7462),m=a(3366),i=(a(5007),a(4983)),d=a(1515),s=["components"],o={},l=(t="InlineAlert",function(e){return console.warn("Component "+t+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.mdx)("div",e)}),p={_frontmatter:o},c=d.Z;function u(e){var n=e.components,a=(0,m.Z)(e,s);return(0,i.mdx)(c,(0,r.Z)({},p,a,{components:n,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"event-management-commands"},"Event management commands"),(0,i.mdx)("p",null,"Adobe I/O Events allow you to receive notifications of real-time events taking place in Adobe services."),(0,i.mdx)("p",null,"Adobe Commerce provides the following commands to configure and process events:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("p",{parentName:"li"},"Enable integration between Commerce and Adobe I/O events"),(0,i.mdx)("ul",{parentName:"li"},(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"#create-an-event-provider"},"events:create-event-provider"),"  "))),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("p",{parentName:"li"},"Manage events subscriptions"),(0,i.mdx)("ul",{parentName:"li"},(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"#subscribe-to-a-commerce-event"},"events:subscribe")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"#create-event-metadata-in-adobe-io"},"events:metadata:populate")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"#unsubscribe-from-a-commerce-event"},"events:unsubscribe")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"#list-subscribed-commerce-events"},"events:list")))),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("p",{parentName:"li"},"Manage registrations"),(0,i.mdx)("ul",{parentName:"li"},(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"#create-a-registration"},"events:registration:create")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"#delete-a-registration"},"events:registration:delete")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"#get-registration-details"},"events:registration:get-all")))),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("p",{parentName:"li"},"Generate a Commerce module"),(0,i.mdx)("ul",{parentName:"li"},(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"#generate-a-commerce-module-based-on-a-list-of-subscribed-events"},"events:generate:module"))))),(0,i.mdx)("h2",{id:"create-an-event-provider"},"Create an event provider"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"events:create-event-provider")," command creates an event provider ID in Adobe IO Events and displays this ID. Add the generated ID as the value of the ",(0,i.mdx)("strong",{parentName:"p"},"Stores")," > Configuration > ",(0,i.mdx)("strong",{parentName:"p"},"Adobe Services")," > ",(0,i.mdx)("strong",{parentName:"p"},"Adobe IO Events")," > ",(0,i.mdx)("strong",{parentName:"p"},"Adobe I/O Event Provider ID")," field in the Commerce Admin."),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"--label")," and ",(0,i.mdx)("inlineCode",{parentName:"p"},"--description")," arguments are optional. However, if you do not specify them, then you must create a system ",(0,i.mdx)("inlineCode",{parentName:"p"},"app/etc/event-types.json")," file and define the values in that file before running the ",(0,i.mdx)("inlineCode",{parentName:"p"},"events:create-event-provider")," command. We recommend specifying the ",(0,i.mdx)("inlineCode",{parentName:"p"},"--label")," and ",(0,i.mdx)("inlineCode",{parentName:"p"},"--description")," arguments when you run the command."),(0,i.mdx)("p",null,"If you decide to omit the arguments, the ",(0,i.mdx)("inlineCode",{parentName:"p"},"event-types.json")," file must have the following format:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n "provider": {\n     "label": "My Adobe Commerce Events",\n     "description": "Provides out-of-process extensibility for Adobe Commerce"\n     }\n }\n')),(0,i.mdx)("h3",{id:"usage"},"Usage"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},'bin/magento events:create-event-provider --label "<unique provider label>" --description "<provider description>"')),(0,i.mdx)("h3",{id:"arguments"},"Arguments"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"--label")," A name that distinguishes your event provider from others in the project."),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"--description")," A string that describes your event provider."),(0,i.mdx)("h3",{id:"example"},"Example"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-bash"},'bin/magento events:create-event-provider --label "My new event provider" --description "Event provider in the Stage workspace"\n')),(0,i.mdx)("h3",{id:"response"},"Response"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-terminal"},"No event provider found, a new event provider will be created\n\nA new event provider has been created with ID <ID>.\n")),(0,i.mdx)("h2",{id:"subscribe-to-a-commerce-event"},"Subscribe to a Commerce event"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"events:subscribe")," command subscribes the current provider to the specified event. You must define the event code using the following pattern:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-text"},"<type>.<event_name>\n")),(0,i.mdx)("p",null,"where:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"type")," specifies the origin of the event. Specify ",(0,i.mdx)("inlineCode",{parentName:"li"},"observer")," if the event is emitted by a Commerce observer, or specify ",(0,i.mdx)("inlineCode",{parentName:"li"},"plugin")," if the event is emitted by a plugin."),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"event_name")," identifies the event to subscribe. For example: ",(0,i.mdx)("inlineCode",{parentName:"li"},"catalog_product_save_after"),".")),(0,i.mdx)(l,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,i.mdx)("p",null,"You can subscribe to any available observer event. You cannot subscribe to a plugin event unless it was registered in the ",(0,i.mdx)("inlineCode",{parentName:"p"},"app/etc/config.php")," file and subsequently unsubscribed with the ",(0,i.mdx)("a",{parentName:"p",href:"#unsubscribe-from-a-commerce-event"},(0,i.mdx)("inlineCode",{parentName:"a"},"events:unsubscribe")," command"),". ","[Register events]","(./module-development.md#register-events describes the format of these files.)"),(0,i.mdx)("h3",{id:"usage-1"},"Usage"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"bin/magento events:subscribe <event_code>")),(0,i.mdx)("h3",{id:"arguments-1"},"Arguments"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"<event_code>")," Required. Specifies the event to subscribe to. The value must in the format ",(0,i.mdx)("inlineCode",{parentName:"p"},"<type.event_name>"),"."),(0,i.mdx)("h3",{id:"example-1"},"Example"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-bash"},"bin/magento events:subscribe observer.customer_login\n")),(0,i.mdx)("h3",{id:"response-1"},"Response"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-terminal"},"The subscription observer.customer_login was successfully created\n")),(0,i.mdx)("h2",{id:"unsubscribe-from-a-commerce-event"},"Unsubscribe from a Commerce event"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"events:unsubscribe")," command causes the current provider to unsubscribe from the specified event. You cannot unsubscribe from events defined in a module's ",(0,i.mdx)("inlineCode",{parentName:"p"},"etc/io_events.xml")," file. However, you can unsubscribe events that were registered in the ",(0,i.mdx)("inlineCode",{parentName:"p"},"app/etc/config.php")," file or from the ",(0,i.mdx)("a",{parentName:"p",href:"#subscribe-to-a-commerce-event"},(0,i.mdx)("inlineCode",{parentName:"a"},"events:subscribe")," command"),"."),(0,i.mdx)("p",null,"Use the ",(0,i.mdx)("a",{parentName:"p",href:"#list-subscribed-commerce-events"},(0,i.mdx)("inlineCode",{parentName:"a"},"events:list")," command")," to retrieve a list of subscribed events."),(0,i.mdx)("h3",{id:"usage-2"},"Usage"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"bin/magento events:unsubscribe <event_code>")),(0,i.mdx)("h3",{id:"arguments-2"},"Arguments"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"<event_code>")," Required. Specifies the event to unsubscribe from."),(0,i.mdx)("h3",{id:"example-2"},"Example"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-bash"},"bin/magento events:unsubscribe observer.catalog_product_save_after\n")),(0,i.mdx)("h3",{id:"response-2"},"Response"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-terminal"},"Successfully unsubscribed from the `observer.catalog_product_save_after` event\n")),(0,i.mdx)("h2",{id:"list-subscribed-commerce-events"},"List subscribed Commerce events"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"events:list")," command returns a list of subscribed events."),(0,i.mdx)("h3",{id:"usage-3"},"Usage"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"bin/magento events:list")),(0,i.mdx)("h3",{id:"example-3"},"Example"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-bash"},"bin/magento events:list\n")),(0,i.mdx)("h3",{id:"response-3"},"Response"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-terminal"},"observer.catalog_product_save_after\nobserver.customer_login\n")),(0,i.mdx)("h2",{id:"create-a-registration"},"Create a registration"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"events:registration:create")," command registers the merchant to Adobe Identity Management Services. You must configure the ",(0,i.mdx)("strong",{parentName:"p"},"Stores")," > Configuration > ",(0,i.mdx)("strong",{parentName:"p"},"Adobe Services")," > ",(0,i.mdx)("strong",{parentName:"p"},"Adobe I/O Events")," > ",(0,i.mdx)("strong",{parentName:"p"},"Commerce Events")," > ",(0,i.mdx)("strong",{parentName:"p"},"Merchant ID")," and ",(0,i.mdx)("strong",{parentName:"p"},"Environment ID")," fields before running this command."),(0,i.mdx)("h3",{id:"usage-4"},"Usage"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"bin/magento events:registration:create")),(0,i.mdx)("h3",{id:"example-4"},"Example"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-bash"},"bin/magento events:registration:create\n")),(0,i.mdx)("h3",{id:"response-4"},"Response"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-terminal"},"Registration created\n")),(0,i.mdx)("h2",{id:"delete-a-registration"},"Delete a registration"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"events:registration:delete")," command deletes the specified registrant from the IMS organization."),(0,i.mdx)("h3",{id:"usage-5"},"Usage"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"bin/magento events:registration:delete <registration-id>")),(0,i.mdx)("h3",{id:"arguments-3"},"Arguments"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"<registration-id>")," Required. The ID assigned to the registration. Use the ",(0,i.mdx)("inlineCode",{parentName:"p"},"events:registration:get-all")," command to retrieve the ID."),(0,i.mdx)("h3",{id:"example-5"},"Example"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-bash"},"bin/magento events:registration:delete e037f0de-3489-49c7-9366-df86491072b4\n")),(0,i.mdx)("h3",{id:"response-5"},"Response"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-terminal"},"Registration was deleted\n")),(0,i.mdx)("h2",{id:"get-registration-details"},"Get registration details"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"events:registration:get-all")," command returns details about a registrant. The response includes the registration ID, merchant ID, environment ID, IMS organization ID, and instance ID."),(0,i.mdx)("h3",{id:"usage-6"},"Usage"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"bin/magento events:registration:get-all")),(0,i.mdx)("h3",{id:"example-6"},"Example"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-bash"},"bin/magento events:registration:get-all\n")),(0,i.mdx)("h3",{id:"response-6"},"Response"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-terminal"},'+--------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n| e037f0de-3489-49c7-9366-df86491072b4 | {"id":"e037f0de-3489-49c7-9366-df86491072b4","merchant_id":"extension-docs","environment_id":"extension-docs","ims_org_id":"12345678901234567890ABCD@AdobeOrg","instance_id":"extensibility-docs2","event_provider_metadata":"3rd_party_custom_events"} |\n+--------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+\n')),(0,i.mdx)("h2",{id:"create-event-metadata-in-adobe-io"},"Create event metadata in Adobe I/O"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"events:metadata:populate")," command creates event metadata based on XML and application configurations."),(0,i.mdx)("h3",{id:"usage-7"},"Usage"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"events:metadata:populate")),(0,i.mdx)("h3",{id:"example-7"},"Example"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-bash"},"bin/magento events:metadata:populate\n")),(0,i.mdx)("h3",{id:"response-7"},"Response"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-terminal"},"The events metadata was successfully created:\n")),(0,i.mdx)("h2",{id:"generate-a-commerce-module-based-on-a-list-of-subscribed-events"},"Generate a Commerce module based on a list of subscribed events"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"events:generate:module")," command generates a module with plugins based on your configuration and places it into the Commerce ",(0,i.mdx)("inlineCode",{parentName:"p"},"app/code/Magento/AdobeCommerceEvents")," directory."),(0,i.mdx)("h3",{id:"usage-8"},"Usage"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"bin/magento events:generate:module")),(0,i.mdx)("h3",{id:"example-8"},"Example"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-bash"},"bin/magento events:generate:module\n")),(0,i.mdx)("h3",{id:"response-8"},"Response"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-terminal"},"Module was generated in the app/code/Magento directory\n")))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-events-commands-md-9b81d3711514829cb8a3.js.map