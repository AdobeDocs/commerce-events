---
title: Create a Tenant
description: Create a configuration file for your tenants, access the gateway, and update your configuration file. <!-- Just a general question, who are descriptions for? what are our guidelines for them? -->
---

# Create a tenant

1. Create and save a JSON configuration file that defines the properties of your mesh. Your mesh is defined by a combination of [handlers] and [transforms]. In this example, the file name is `mesh.json`. The `tenantId` is the case-sensitive name you want to assign to your mesh configuration.

<InlineAlert variant="info" slots="text"/>

The following example adds both an Adobe Commerce instance (with Live Search enabled) and an Adobe Experience Manager instance to the mesh. The GraphQL endpoints for Commerce and Live Search are different, therefore you must configure them separately.

    ```json
    {
      "meshConfig": {
        "sources": [
          {
            "name": "Commerce",
            "handler": {
              "graphql": {
                "endpoint": "https://<your_commerce_site>/graphql/"
              }
            }
          },
          {
            "name": "AEM",
            "handler": {
              "graphql": {
                "endpoint": "https://<your_AEM_site>/endpoint.json"
              }
            }
          },
          {
            "name": "LiveSearch",
              "handler": {
                "graphql": {
                  "endpoint": "https://<your_commerce_site>/search/graphql",
                  "operationHeaders": {
                    "x-api-key": "search_gql",
                    "Magento-Environment-Id": "<your_environment_id>",
                    "Magento-Website-Code": "base",
                    "Content-Type": "application/json",
                    "Magento-Store-Code": "main_website_store",
                    "Magento-Store-View-Code": "default"
                  },
                  "schemaHeaders": {
                    "x-api-key": "search_gql",
                    "Magento-Environment-Id": "<your_environment_id>",
                    "Magento-Website-Code": "base",
                    "Content-Type": "application/json",
                    "Magento-Store-Code": "main_website_store",
                    "Magento-Store-View-Code": "default"
                  }
                }
              }
            }
          ]
        },
      "tenantId": "<your_tenant_Id>"
    }

1. Run the login command and provide your credentials in the browser window.

    ```bash
    aio auth:login
    ```

1. Run the following command to create a tenant:

    ```bash
    aio commerce-gateway:tenant:create ./mesh.json
    ```

## Access the gateway

After creating a tenant, you should be able to access the GraphQL endpoint by entering the following URL in any GraphQL browser:

```https://graph.adobe.io/api/<chosen_tenant_name>/graphql?api_key=<your_apiKey>```

## Update an existing tenant

If you make any changes to your mesh file, such as adding [transforms], you must publish them before the changes will be reflected in your gateway. The `tenantId` in your `mesh.json` file is the name of the previously created tenant that you want to update.

<InlineAlert variant="info" slots="text"/>

Updating the tenant does not allow you to rename the tenantId.

```bash
aio commerce-gateway:tenant:update tenantid ./mesh.json
```

<!-- Link Definitions -->
[handlers]: /guides/gateway/handlers.md
[transforms]: /guides/gateway/transforms.md
