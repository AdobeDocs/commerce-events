"use strict";(self.webpackChunkdev_site_documentation_template=self.webpackChunkdev_site_documentation_template||[]).push([[444],{4623:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return s},default:function(){return d}});var a=t(7462),o=t(3366),m=(t(5007),t(4983)),r=t(1515),i=["components"],s={},l={_frontmatter:s},p=r.Z;function d(e){var n=e.components,t=(0,o.Z)(e,i);return(0,m.mdx)(p,(0,a.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,m.mdx)("h1",{id:"commerce-module-development"},"Commerce module development"),(0,m.mdx)("p",null,"This topic describes how to enable your custom modules for Adobe I/O Events. You can also manually register observer events using the ",(0,m.mdx)("a",{parentName:"p",href:"./commands.md#subscribe-to-a-commerce-event"},(0,m.mdx)("inlineCode",{parentName:"a"},"events:subscribe")," command"),"."),(0,m.mdx)("h2",{id:"register-events"},"Register events"),(0,m.mdx)("p",null,"You can programmatically register events using the following methods:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},"Create an ",(0,m.mdx)("inlineCode",{parentName:"li"},"io_events.xml")," file in your module"),(0,m.mdx)("li",{parentName:"ul"},"Declare them in the system ",(0,m.mdx)("inlineCode",{parentName:"li"},"config.php")," file")),(0,m.mdx)("h3",{id:"io_eventsxml"},"io_events.xml"),(0,m.mdx)("p",null,"Create the ",(0,m.mdx)("inlineCode",{parentName:"p"},"<module-root>/etc/io_events.xml")," file and define a list of events that should always be emitted. Events listed in this file cannot be disabled with the ",(0,m.mdx)("a",{parentName:"p",href:"./commands.md#unsubscribe-from-a-commerce-event"},(0,m.mdx)("inlineCode",{parentName:"a"},"events:unsubscribe")," command"),"."),(0,m.mdx)("p",null,"The following example registers multiple events."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0"?>\n<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:module-commerce-events-client/etc/io_events.xsd">\n   <event name="observer.customer_login" />\n   <event name="observer.customer_logout" />\n   <event name="plugin.magento.catalog.api.category_repository.save" />\n   <event name="plugin.magento.catalog.api.category_repository.save" />\n   <event name="plugin.magento.catalog.api.category_repository.delete" />\n   <event name="plugin.magento.catalog.api.product_repository.save" />\n   <event name="plugin.magento.catalog.api.product_repository.delete" />\n   <event name="plugin.magento.customer.api.customer_repository.save" />\n   <event name="plugin.magento.customer.api.customer_repository.delete" />\n   <event name="plugin.magento.sales.api.order_repository.save" />\n   <event name="plugin.magento.sales.api.order_management.place" />\n</config>\n')),(0,m.mdx)("p",null,"Run the ",(0,m.mdx)("a",{parentName:"p",href:"./commands.md#generate-a-commerce-module-based-on-a-list-of-subscribed-events"},"events:generate:module command")," to generate the required plugins."),(0,m.mdx)("h3",{id:"configphp"},"config.php"),(0,m.mdx)("p",null,"You can also create an ",(0,m.mdx)("inlineCode",{parentName:"p"},"io_events")," section in the Commerce ",(0,m.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/docs/commerce-operations/configuration-guide/files/deployment-files.html"},(0,m.mdx)("inlineCode",{parentName:"a"},"app/etc/config.php file")),". Events registered using this mechanism can be disabled from the command line."),(0,m.mdx)("p",null,"For example:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-php"},"'io_events' => [\n    'observer.customer_login' => 1,\n    'observer.customer_logout' => 1,\n    'plugin.magento.catalog.api.category_repository.save' => 1,\n    'plugin.magento.catalog.api.category_repository.delete' => 1,\n    'plugin.magento.catalog.api.product_repository.save' => 1,\n    'plugin.magento.catalog.api.product_repository.delete' => 1,\n    'plugin.magento.customer.api.customer_repository.save' => 1,\n    'plugin.magento.customer.api.customer_repository.delete' => 1,\n    'plugin.magento.sales.api.order_management.save' => 1,\n    'plugin.magento.sales.api.order_management.place' => 1\n]\n")),(0,m.mdx)("p",null,"Run the ",(0,m.mdx)("a",{parentName:"p",href:"./commands.md#generate-a-commerce-module-based-on-a-list-of-subscribed-events"},"events:generate:module command")," to generate the required plugins."))}d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-events-module-development-md-a6337e3916a4506d9b4f.js.map